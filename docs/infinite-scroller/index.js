webpackJsonp([0],{101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(1),i=n(247),a=n(248),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.title,u=e.className,c=e.children,s=r.__rest(e,["name","title","className","children"]),l=t[0].toUpperCase()+t.slice(1);s.className=i.default("page p"+l,u);var f=o.createElement(a.BodyClassName,{className:"body"+l},o.createElement("div",r.__assign({},s),c));return n?o.createElement(a.DocumentTitle,{title:n,children:f}):f},t}(o.PureComponent);t.default=u},102:function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=l),e.prototype||"string"!=typeof t||Array.isArray(n)?(Array.isArray(t)&&(n=t,t=null),t?c.default(function(e){return i(e,n)},e,t,!0):i(e.prototype,n),e):o(e,t,n)}function o(e,t,n){return u(s.default(e),t,n)}function i(e,t){Object.getOwnPropertyNames(e).filter(function(e){return t.indexOf(e)<0}).forEach(function(t){return a(e,t,Object.getOwnPropertyDescriptor(e,t))})}function a(e,t,n){"function"==typeof n.value&&Object.defineProperty(e,t,u(e,t,n))}function u(e,t,n){var r=n.value;return{configurable:n.configurable,enumerable:n.enumerable,get:function(){if(this===e||this.hasOwnProperty(t))return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e})}}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(255),s=n(103),l=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"];t.default=r},103:function(e,t,n){"use strict";function r(e){return e.__proto__||Object.getPrototypeOf(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},104:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t={});var n,r=t.throttle,u=void 0===r?0:r,c=t.debounce,s=void 0===c?0:c,l=t.container,f=void 0===l?null:l,p=t.events,d=void 0===p?["load","resize","scroll","orientationchange"]:p;n=u&&u>0?o.throttle(e,u):s&&s>0?o.debounce(e,s):e;var h=[].concat(d);return h.indexOf("load")>=0&&i.default(n),h=h.filter(function(e){return"load"!==e}),h.forEach(function(e){"scroll"===e&&f&&f.addEventListener(e,n),window.addEventListener(e,n)}),a.default(function(){h.forEach(function(e){"scroll"===e&&f&&f.removeEventListener(e,n),window.removeEventListener(e,n)})})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(257),i=n(258),a=n(105);t.default=r},105:function(e,t,n){"use strict";function r(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n?t:(n=!0,t=e.apply(this,r))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(28),i=n(102),a=n(260),u=n(107),c=function(){function e(){this.api=a.default(function(){},function(){console.warn("需要登录")}),this.scroller=new u.Scroller}return e.prototype.toJSON=function(){return{}},r.__decorate([o.observable],e.prototype,"scroller",void 0),r.__decorate([o.observable],e.prototype,"settleWidth",void 0),r.__decorate([o.observable],e.prototype,"inContainer",void 0),e=r.__decorate([i.default],e)}();t.IndexApp=c,r.__exportStar(n(28),t),r.__exportStar(n(38),t),r.__exportStar(n(107),t)},107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(28),i=function(){function e(){this.page=1,this.items=[],this.hasMore=!0,this.heightMap={},this.startIndex=0,this.endIndex=0,this.containerScrollTop=0,this.widthChanged=!1}return e.prototype.addItems=function(e,t,n){(r=this.items).push.apply(r,e),this.hasMore=t,this.page=n||this.page+1;var r},e.prototype.replaceItems=function(e,t,n){this.items=e,this.hasMore=t,this.page=n||1},e.prototype.updateIndex=function(e,t){this.startIndex===e&&this.endIndex===t||(this.startIndex=e,this.endIndex=t)},r.__decorate([o.observable],e.prototype,"items",void 0),r.__decorate([o.observable],e.prototype,"hasMore",void 0),r.__decorate([o.observable],e.prototype,"startIndex",void 0),r.__decorate([o.observable],e.prototype,"endIndex",void 0),r.__decorate([o.observable],e.prototype,"widthChanged",void 0),e}();t.Scroller=i},11:function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n}function i(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})}function s(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function m(e,t,n){function r(e){l[e]&&(s[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{i(l[e](t))}catch(e){c(f[0][3],e)}}function i(e){e.value instanceof h?Promise.resolve(e.value.v).then(a,u):c(f[0][2],e)}function a(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),f.shift(),f.length&&o(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,l=n.apply(e,t||[]),f=[];return s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s}function v(e){function t(t,o){e[t]&&(n[t]=function(n){return(r=!r)?{value:h(e[t](n)),done:"return"===t}:o?o(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof f?f(e):e[Symbol.iterator]()}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return g}),t.__rest=o,t.__decorate=i,t.__param=a,t.__metadata=u,t.__awaiter=c,t.__generator=s,t.__exportStar=l,t.__values=f,t.__read=p,t.__spread=d,t.__await=h,t.__asyncGenerator=m,t.__asyncDelegator=v,t.__asyncValues=y;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(244);var r=n(30),o=n(1),i=n(38),a=n(245),u=n(246),c=n(106);r.render(o.createElement(i.Provider,{app:new c.IndexApp},o.createElement(u.default,null)),document.querySelector("#root"),function(){/(android|iphone|ipad|ipod)/i.test(navigator.userAgent)&&setTimeout(function(){a.default("/common/fastclick.js",function(){window.FastClick.attach(document.body)})},500)})},244:function(e,t){},245:function(e,t,n){"use strict";function r(e,t){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=function(){n.onload=null,n.parentNode.removeChild(n),t&&t()},document.body.appendChild(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},246:function(e,t,n){"use strict";function r(e){var t=window.ga;if(void 0!==t){var n=e.pathname+e.search+e.hash;t("set","page",n),t("send","pageview",n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(1),a=n(101),u=n(37),c=n(249),s=n(253),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[{exact:!0,path:"/",component:s.List},{exact:!0,path:"/detail",component:s.Detail}],t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.router;r(e.history.location),e.history.listen(function(e){r(e),window.scrollTo(0,0)})},t.prototype.render=function(){var e=this;return i.createElement(a.default,{name:"App",title:"北回归线"},i.createElement(u.HashRouter,{ref:function(t){return e.router=t}},i.createElement(c.default,{items:this.items})))},t}(i.PureComponent);t.default=l},247:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach(function(e){e&&(Array.isArray(e)?n.push(r.apply(void 0,e)):"string"==typeof e?n.push(e):"object"==typeof e&&n.push.apply(n,Object.keys(e).filter(function(t){return e[t]})))}),n.join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},248:function(e,t,n){"use strict";function r(e){return function(t){var n=t[t.length-1];if(n)return n[e]}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(96),a=n(1),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return e?a.Children.only(e):null},t}(a.PureComponent);t.default=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t=o.__decorate([i(r("className"),function(e){var t=e||"";t!==document.body.className&&(document.body.className=t)})],t)}(u);t.BodyClassName=c;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t=o.__decorate([i(r("title"),function(e){var t=e||"";t!==document.title&&(document.title=t)})],t)}(u);t.DocumentTitle=s},249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(1),i=n(37),a=n(8),u=n(250);n(252);var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getRoute=function(e){var t,n,u=this.props.items,c=e.location.pathname;return u.some(function(e){return t=a.matchPath(c,e),n=e,!!t}),t?{key:t.url,route:o.createElement(i.Route,r.__assign({},n))}:{key:"",route:null}},t.prototype.render=function(){var e=this,t=this.props,n=(t.items,r.__rest(t,["items"]));return o.createElement(i.Route,{render:function(t){var r=e.getRoute(t),i=r.key,a=r.route;return o.createElement(u.default,{className:"wTransitionRoute",itemKey:i,componentProps:n,name:"route",leave:!1,enter:!0,children:a})}})},t}(o.Component);t.default=c},250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(1),i=n(251),a=n(97),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.reflow=function(){this.el.scrollTop},t.prototype.call=function(e,t){var n=this.props[e+t[0].toUpperCase()+t.slice(1)];"function"==typeof n&&n(this.el)},t.prototype.will=function(e,t){var n=this;if(this["_will_"+e]=!0,!this.props[e])return t();this.call("before",e);var r=this,o=r.el,a=r.props,u=a.name;o.classList.add(u+a[e+"Suffix"]),setTimeout(function(){n.reflow(),o.classList.add(u+a[e+"ActiveSuffix"]),i.default(o,t)},16)},t.prototype.did=function(e){var t=this,n=t.el,r=t.props,o=r.name;r[e]&&n&&(n.classList.remove(o+r[e+"Suffix"]),n.classList.remove(o+r[e+"ActiveSuffix"]),this.call("after",e))},t.prototype.componentWillAppear=function(e){this.will("appear",e)},t.prototype.componentDidAppear=function(){this.did("appear")},t.prototype.componentWillEnter=function(e){this.will("enter",e)},t.prototype.componentDidEnter=function(){this.did("enter")},t.prototype.componentWillLeave=function(e){this.will("leave",e)},t.prototype.componentDidLeave=function(){this.did("leave")},t.prototype.render=function(){var e=this,t=this.props,n=t.component,i=t.componentProps,a=t.className,u=t.style,c=t.children,s=function(t){return e.el=t},l=r.__assign({ref:s,className:a,style:u},i);return o.createElement(n,l,c)},t.defaultProps={component:"div",componentProps:{},appear:!1,appearSuffix:"Appear",appearActiveSuffix:"AppearActive",enter:!0,enterSuffix:"Enter",enterActiveSuffix:"EnterActive",leave:!0,leaveSuffix:"Leave",leaveActiveSuffix:"LeaveActive"},t}(o.PureComponent);t.TransitionGroupItem=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.itemKey,n=r.__rest(e,["itemKey"]);return o.createElement(a.TransitionGroup,null,o.createElement(u,r.__assign({key:t},n)))},t}(o.PureComponent);t.default=c},251:function(e,t,n){"use strict";function r(e,t,n){var r=o(e,n),i=r.type,a=r.timeout,c=r.propCount;if(!i)return t();var s=i===u?l:p,f=0,d=function(){e.removeEventListener(s,h),t()},h=function(t){t.target===e&&++f>=c&&d()};setTimeout(function(){f<c&&d()},a+1),e.addEventListener(s,h)}function o(e,t){var n,r=window.getComputedStyle(e),o=r[s+"Delay"].split(", "),a=r[s+"Duration"].split(", "),l=i(o,a),p=r[f+"Delay"].split(", "),d=r[f+"Duration"].split(", "),h=i(p,d),m=0,v=0;return t===u?l>0&&(n=t,m=l,v=a.length):t===c?h>0&&(n=t,m=h,v=d.length):(m=Math.max(l,h),n=m>0?l>h?u:c:null,v=n?n===u?a.length:d.length:0),{type:n,timeout:m,propCount:v}}function i(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return a(t)+a(e[n])}))}function a(e){return 1e3*Number(e.slice(0,-1))}Object.defineProperty(t,"__esModule",{value:!0});var u="transition",c="animation",s="transition";t.transitionProp=s;var l="transitionend";t.transitionEndEvent=l;var f="animation";t.animationProp=f;var p="animationend";t.animationEndEvent=p;var d=window;void 0===d.ontransitionend&&void 0!==d.onwebkittransitionend&&(t.transitionProp=s="WebkitTransition",t.transitionEndEvent=l="webkitTransitionEnd"),void 0===d.onanimationend&&void 0!==d.onwebkitanimationend&&(t.animationProp=f="WebkitAnimation",t.animationEndEvent=p="webkitAnimationEnd"),t.default=r,t.onTransitionEnd=r,t.getTransitionInfo=o},252:function(e,t){},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(1),i=n(37),a=n(101),u=n(254),c=n(106);n(263);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.load=function(e){var t=this;setTimeout(function(){for(var n=t.props.app.scroller,r=[],a=function(){return Math.round(50+205*Math.random()).toString(16)},c=10*(n.page-1),s=c;s<c+10;s++){var l=s+".点我可以跳到详情页"+" foo bar ".repeat(Math.round(2+12*Math.random())),f="#"+a()+a()+a();r.push(o.createElement(u.ScrollerItem,{key:s,id:s},o.createElement(i.Link,{to:"/detail",className:"card","data-bg":f,style:{background:f},children:l})))}n.addItems(r,c<40),e()},500)},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){var e=this,t=this.props.app,n=t.settleWidth,r=t.inContainer;return o.createElement(a.default,{name:n?"Test":"Test auto",title:"Infinite Scroller"},o.createElement("div",{className:"controls"},o.createElement("div",null,o.createElement("label",null,"容器显示: ",o.createElement("input",{type:"checkbox",checked:r,onChange:function(){return e.props.app.inContainer=!r}}))),o.createElement("div",null,o.createElement("label",null,"固定宽度: ",o.createElement("input",{type:"checkbox",checked:n,onChange:function(){return e.props.app.settleWidth=!n}}))),o.createElement("div",{style:{color:"#999"}},"注意：宽度不固定需要你手动改变屏幕大小，比如旋转屏幕")),o.createElement("div",{className:r?" pin":"",ref:function(t){return e.container=t}},this.container?o.createElement(u.ScrollerContainer,{container:r?this.container:void 0,preload:1,itemWidthUnchangable:n,scroller:this.props.app.scroller,load:function(t){return e.load(t)}},this.props.app.scroller.items):null))},t=r.__decorate([c.inject("app"),c.observer],t)}(o.PureComponent);t.List=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return o.createElement(a.default,{name:"TestDetail",title:"Infinite Scroller Detail"},o.createElement("a",{className:"back",onClick:function(){return e.props.history.goBack()}}," <- Back "),o.createElement("div",{style:{lineHeight:"50px"}},"detail page ".repeat(200)))},t}(o.PureComponent);t.Detail=l},254:function(e,t,n){"use strict";function r(e,t){return e.reduce(function(e,n){return e+=t[n.props.id]||0},0)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(1),a=n(102),u=n(256),c=n(104),s=n(259),l=n(38),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scroller=t.props.scroller,t}return o.__extends(t,e),t.prototype.check=function(){var e=this,t=this.props,n=t.load,r=t.container;this.caculate(),r=r===document.documentElement?null:r,this.scroller.hasMore&&u.default.visiable(this.sentinel,{offset:100,container:r})&&!this.isLoading&&(this.isLoading=!0,n(function(){e.isLoading=!1,e.check()}))},t.prototype.componentDidMount=function(){var e=this,t=e.props.container,n=e.scroller.containerScrollTop;setTimeout(function(){t.scrollTop=n,t===document.documentElement&&(document.body.scrollTop=n)},10),this.init()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.container!==e.container?(this.destroy(),this.init(),setTimeout(function(){return t.caculate()},0)):this.props.itemWidthUnchangable!==e.itemWidthUnchangable&&setTimeout(function(){return t.caculate()},0)},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.init=function(){var e=this;this.off=c.default(function(t){e.check()},{throttle:200,container:this.props.container})},t.prototype.destroy=function(){this.off&&(this.off(),this.off=null)},t.prototype.caculate=function(){var e=this,t=e.scroller,n=e.props,r=n.container,o=n.offset,i=n.preload,a=n.children,u=r.scrollTop,c=r.clientHeight,s=this.refContainer.clientWidth;if(r===document.documentElement&&0===u&&(u=document.body.scrollTop),t.widthChanged=null!=t.width&&t.width!==s,t.width=s,t.containerScrollTop=u,t.widthChanged)return t.heightMap={},t.updateIndex(0,t.items.length);var l,f,p=t.heightMap,d=0,h=a.findIndex(function(e){return!p[e.props.id]});a.forEach(function(e,t){d+=p[e.props.id]||0,d>=u-o&&null==l&&(l=t),d>=u+c+o&&null==f&&(f=t)}),null==l&&(l=0),(null==f||h>=0)&&(f=a.length),l=Math.max(0,l-i),f=Math.min(a.length,f+i),t.updateIndex(l,f)},t.prototype.getRenderInfo=function(){var e=this,t=e.props.children,n=e.scroller,o=n.startIndex,a=n.endIndex,u=n.heightMap,c=n.widthChanged,s=c?Math.random().toString():"",l=t.slice(o,a).map(function(e){var t={scroller:n};return s&&(t.key=s+e.props.id),i.cloneElement(e,t)});return{paddingTop:r(t.slice(0,o),u),paddingBottom:r(t.slice(a),u),children:l}},t.prototype.render=function(){var e=this,t=this.props,n=t.loading,r=t.loaded,o=t.style,a=this.getRenderInfo(),u=a.children,c=a.paddingTop,s=a.paddingBottom;return i.createElement("div",{className:"wInfiniteScroller",style:o},i.createElement("div",{className:"scrollerContainer",ref:function(t){return e.refContainer=t},style:{paddingTop:c,paddingBottom:s}},u),i.createElement("div",{style:{background:"transparent",width:"100%",height:1},ref:function(t){return e.sentinel=t}}),this.scroller.hasMore?n:r)},t.defaultProps={offset:200,preload:2,container:document.documentElement,loading:i.createElement(s.default,{stroke:"#999",width:20,height:20,style:{display:"block",margin:"10px auto"}}),loaded:i.createElement("div",{style:{lineHeight:"40px",textAlign:"center",color:"#999",fontSize:12}},"没有更多了~~")},o.__decorate([a.default],t.prototype,"check",null),t=o.__decorate([l.observer],t)}(i.PureComponent);t.ScrollerContainer=f;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.update=function(){var e=this,t=e.root,n=e.props,r=n,o=r.scroller,i=r.id;t&&(o.heightMap[i]=t.clientHeight)},t.prototype.componentDidMount=function(){this.update()},t.prototype.componentDidUpdate=function(e,t){this.update()},t.prototype.render=function(){var e=this,t=this.props,n=t.render,r=t.children;return i.createElement("div",{className:"scrollerItem",style:{overflow:"hidden"},ref:function(t){return e.root=t}},n?n():r)},o.__decorate([a.default],t.prototype,"update",null),t}(i.PureComponent);t.ScrollerItem=p},255:function(e,t,n){"use strict";function r(e,t,n,r){void 0===r&&(r=!0);for(var i=t.prototype||t,a=n.prototype||n;i&&(r||i!==a)&&!1!==e(i)&&i!==a;)i=o.default(i)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(103);t.default=r},256:function(e,t,n){"use strict";function r(){s.width=window.innerWidth||document.documentElement.clientWidth,s.height=window.innerHeight||document.documentElement.clientHeight}function o(e,t){return t.right>=e.left&&t.bottom>=e.top&&t.left<=e.right&&t.top<=e.bottom}function i(){return{top:0,left:0,right:s.width,bottom:s.height}}function a(e,t){if(!t)return e;var n="number"==typeof t?{left:t,top:t,bottom:t,right:t}:t,r=n.top,o=void 0===r?0:r,i=n.left,a=void 0===i?0:i,u=n.right,c=void 0===u?0:u,s=n.bottom,l=void 0===s?0:s;return{top:e.top-o,left:e.left-a,right:e.right+c,bottom:e.bottom+l}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(104),c=n(105),s={width:0,height:0,listen:function(e,t,n){void 0===n&&(n={});var r=n.enableIntersectionObserver,o=n.container,i=n.offset,a=void 0===i?0:i,l=n.debounce,f=void 0===l?0:l,p=n.throttle,d=void 0===p?200:p;if(r&&"undefined"!=typeof IntersectionObserver){var h=new IntersectionObserver(function(e){return e[0].intersectionRatio>0&&t(e)},{root:o,rootMargin:a+"px"});return h.observe(e),s.visiable(e,{container:o,offset:a})&&t({type:"init"}),c.default(function(){h.disconnect()})}return u.default(function(n){s.visiable(e,{container:o,offset:a})&&t(n)},{throttle:d,debounce:f,container:o})},visiable:function(e,t){void 0===t&&(t={});var n=e.getBoundingClientRect(),r=t.container,u=t.offset,c=t.viewport;if(c=a(c||i(),u),r){var s=r.getBoundingClientRect();if(o(c,s)){var l=a(s,u),f=l.top,p=l.right,d=l.bottom,h=l.left;return o({top:f>c.top?f:c.top,left:h>c.left?h:c.left,right:p<c.right?p:c.right,bottom:d<c.bottom?d:c.bottom},n)}return!1}return o(c,n)}};r(),window.addEventListener("resize",r),t.default=s},257:function(e,t,n){"use strict";function r(e,t){var n;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n&&(clearTimeout(n),n=null),n=setTimeout(function(){return e.apply(void 0,r)},t)}}function o(e,t){var n,r=0,o=function(){n&&(clearTimeout(n),n=null)};return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u=function(){e.apply(void 0,i),r=Date.now()};o(),Date.now()-r>=t?u():n=setTimeout(u,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=r,t.throttle=o},258:function(e,t,n){"use strict";function r(e){var t,n=function(r){t||(t=!0,window.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),e(r))};window.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n),"complete"===document.readyState&&n({type:"complete"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},259:function(e,t,n){"use strict";function r(e){return i.createElement("svg",o.__assign({className:"wLoading",width:"38",height:"38",viewBox:"0 0 38 38",stroke:"#fff"},e),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},i.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),i.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},i.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(1);t.default=r},260:function(e,t,n){"use strict";function r(e,t){return a.default({getArticleList:{path:"/blog",query:o()},getArticle:{path:"/blog/:articleId"}},{base:"/v1",inject:e,login:t})}function o(e){return void 0===e&&(e={}),i.__assign({page:{alias:"pageNum",value:1},pageSize:{value:10}},e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=n(261);t.default=r},261:function(e,t,n){"use strict";function r(e,t){function n(e){if(d)return void(d=!1);Date.now()-h>m&&(l(e),h=Date.now())}function r(e,r){function o(e,o){if(clearTimeout(c),s)return!1;s=!0;var i=null,a=200;if(e){if(401===e.status||e.data&&/invalid identity/.test(e.data.message))return t.login();n(e.error||"网络异常，请稍后再试")}else if("object"==typeof o){if(a=o.status||o.code||a,i=o.error,200===a||i||(i=o.msg||o.message||"未知错误，请稍后再试"),/invalid identity/.test(i)&&(a=401),401===a)return t.login();i?(n(i),e={status:a,error:i,data:o},o=null):o.data&&(o=o.data)}return d=!1,r(e,o)}e.data;var i=e.http,a=i.method,u=i.url;if(delete i.crossOrigin,delete i.dataType,t.inject&&t.inject(i),"HEAD"===a||"GET"===a?delete i.body:"POST"!==a&&"PUT"!==a&&"DELETE"!==a||(i.body=i.data,"object"==typeof i.body&&(i.body=JSON.stringify(i.body))),this.mock.memory)return o(e.error,e.data);var c,s=!1;c=setTimeout(function(){return o(null,{error:"网络请求超时，请刷新重试"})},p),window.fetch(u,i).then(function(e){var t=e.status,n=e.headers.get("Content-Type").indexOf("/json")>=0;return new Promise(function(r,o){var i=n?e.json():e.text();200===t?i.then(r,o):i.then(function(n){o({status:t,error:e.statusText,data:n})},o)})}).then(function(e){return o(null,e)},function(e){return o(e,null)})}var i=t.mocks,a=void 0===i?{}:i,u=t.base,c=void 0===u?"":u,s=t.alert,l=void 0===s?window.alert:s,f=t.fetchTimeout,p=void 0===f?8e3:f,d=!1,h=0,m=2e3,v=o({base:c,cache:!1,mock:{disabled:!0,memory:!0,delay:{min:10,max:200}},request:{naming:null},response:{naming:"camel"},handle:r,http:{credentials:"same-origin",headers:{"Content-Type":"application/json"}},routes:e,mocks:a});return v.ignoreNextError=function(){d=!0},v}Object.defineProperty(t,"__esModule",{value:!0});var o=n(262);t.default=r},262:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),o=n(2);e.exports=function(e,t){var n=new o(e,t),i={};return r.objectKeys(n.routes).forEach(function(e){i[e]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.request.apply(n,[e].concat(r))}}),i.$ea=n,i.$request=function(){return n.request.apply(n,arguments)},i.$r=i.$resource=function(e){var t=n.resources[e];return t?Object.keys(t).reduce(function(e,n){var r=t[n].defaultValue;return e[n]=void 0===r?null:r,e},{}):{}},i.$cache=function(e){var t=e||n.globals,r=t.cacheMap,o=t.cacheStack;if(!e)return{cacheMap:r,cacheStack:o};r&&o&&(n.globals.cacheMap=r,n.globals.cacheStack=o)},i},e.exports.ElegantApi=o},function(e,t){"use strict";function n(){}function r(e){return e?Object.keys(e):[]}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Object]"===o(e)}function a(e){return Array.isArray(e)}function u(e){return i(e)?e:{}}function c(e,t){if(a(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else i(e)&&r(e).forEach(function(n){return t(e[n],n,e)})}function s(e,t){return r(e).reduce(function(n,r){return n[r]=t(e[r],r,e),n},{})}function l(e){var t=void 0;if(i(e))t={};else{if(!Array.isArray(e))return e;t=[]}return c(e,function(e,n){return t[n]=l(e)}),t}function f(e,t){return t=[].concat(t),Object.keys(e).reduce(function(n,r){return t.indexOf(r)<0&&(n[r]=e[r]),n},{})}function p(){var e=!1,t=[].slice.call(arguments);"boolean"==typeof t[0]&&(e=t.shift());for(var n=t.shift()||{},r=void 0,u=0;u<t.length;u++)r=t[u],(i(r)||a(r))&&(o(n)!==o(r)?n=l(r):c(r,function(t,r){e&&(i(t)||a(t))?n[r]=p(e,n[r],t):n[r]=t}));return n}function d(e){var t=[];return t.add=function(e,t){null==t&&(t=""),this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},h(t,e),t.join("&")}function h(e,t,n){var r=a(t),o=i(t),u=void 0;c(t,function(t,c){u=i(t)||a(t),n&&(c=n+"["+(o||u?c:"")+"]"),!n&&r?e.add(t.name,t.value):u?h(e,t,c):e.add(c,t)})}function m(e){return e.replace(/(?:[^:])\/\//g,"/")}function v(e,t){if(""===t)return e;var n=e.split("#");return(n[0]+"&"+t).replace(/[&?]{1,2}/,"?")+(2===n.length?"#"+n[1]:"")}t.__esModule=!0,t.emptyFunction=n,t.objectKeys=r,t.toString=o,t.isObject=i,t.isArray=a,t.objectify=u,t.each=c,t.mapObject=s,t.deepClone=l,t.omit=f,t.extend=p,t.buildQuery=d,t.urlNormalize=m,t.appendQuery=v;t.isServer="undefined"==typeof window},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(e&&console.debug){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.debug.apply(console,n)}}function a(e,t,n){for(var r in e){var o=n?n+"."+r:r;m.isObject(e[r])?a(e[r],t,o):t(o,e[r])}}function u(e,t){var n=[e];return t?(t.split(".").forEach(function(e){var t=[];n.forEach(function(n){n&&("[]"===e&&Array.isArray(n)?t=t.concat(n):t.push(n[e]))}),n=t}),n.filter(function(e){return e})):n}function c(e,t,n){a(m.objectify(t),function(t,r){var o=t.split("."),i=o.pop();t=o.join("."),u(e,t).forEach(function(e){return n(e,t,i,r)})})}var s=n(3),l=r(s),f=n(4),p=r(f),d=n(5),h=n(6),m=n(1),v=n(7),y=void 0;try{localStorage.setItem("_ea","_ea"),localStorage.removeItem("_ea"),y=localStorage}catch(e){y={}}e.exports=function(){function e(t,n){var r=this;o(this,e);var a=m.extend(!0,{},p.default,t),u=a,c=u.globals,s=u.routes,l=u.resources,f=u.mocks;delete a.globals,delete a.routes,delete a.resources,delete a.mocks,a=(0,h.formatRootOptions)(a),this.globals=c,this.mocks=n||f,m.each(this.mocks,function(e,t){t in s&&"$default"!==t||(s[t]={})}),(0,d.mixin)(this.mocks),this.routes=m.mapObject(s,function(e,t){return(0,h.formatInitialRoute)(t,m.objectify(e),a)}),this.resources=m.mapObject(l,h.formatResource),this.responseResources=m.mapObject(this.resources,h.reverseResource),this.apis={},this._needReloadRouteNameMap={},m.each(this.routes,function(e){return r.apis[e.name]=r._generateApi(e)}),i(!0,"You are using a debug version of elegant-api, you can switch to production version by using elegant-api.min.js")}return e.prototype._apply=function(e,t,n){var r=this;return(t.order||["resource","alias","computed","drop","map","naming"]).forEach(function(o){var i="_apply"+o.charAt(0).toUpperCase()+o.slice(1);i in r&&(e=r[i](e,t[o],n))}),e},e.prototype._applyResource=function(e,t,n){var r=this;if(!t)return e;m.objectKeys(t).reduce(function(o,i){var a=r.resources[i],c=[].concat(t[i]);if(!a)throw new Error("Resource "+i+" not exists.");return c.forEach(function(t){u(e,t).forEach(function(e){m.isObject(e)&&r["_"+n+"Resource"](e,a,i)})}),o},{});return e},e.prototype._requestResource=function(e,t){var n=[];m.each(t,function(t,r){var o=e[r],i=r;t.alias&&t.alias!==r&&(n.push(r),i=t.alias),void 0===o&&(o=t.defaultValue),e[i]=t.write?t.write.call(e,o):o}),m.each(n,function(t){return delete e[t]})},e.prototype._responseResource=function(e,t,n){t=this.responseResources[n],this._requestResource(e,t)},e.prototype._applyAlias=function(e,t){return c(e,t,function(e,t,n,r){if("string"!=typeof r)throw new SyntaxError("Expect string value for alias.");n in e&&(e[r]=e[n],delete e[n])}),e},e.prototype._applyComputed=function(e,t){return c(e,t,function(t,n,r,o){if("function"!=typeof o)throw new SyntaxError("Expect function value for computed.");t[r]=o.call(t,t,e)}),e},e.prototype._applyDrop=function(e,t){var n;return"string"==typeof t?(n={},n[t]=!0,t=n):m.isArray(t)&&(t=t.reduce(function(e,t){return e[t]=!0,e},{})),m.isObject(t)&&c(e,t,function(e,t,n){n in e&&delete e[n]}),e},e.prototype._applyMap=function(e,t){return"function"==typeof t?t(e):e},e.prototype._applyNaming=function(e,t){return"string"==typeof t&&(t={case:t}),m.isObject(t)?(t.naming=t.case,(0,l.default)(e,t)):e},e.prototype._cache=function(e,t){var n=this,r=this._getCache(e);return r.exists?(t(null,r.value),!1):function(r,o){r||n._setCache(e,o),t(r,o)}},e.prototype.removeCache=function(e){var t=this;if(!e)return!1;var n=this.globals,r=n.cacheMap,o=n.cacheStack,i=[].concat(e);i.forEach(function(e){t._needReloadRouteNameMap[e]=!0,delete r[e]}),this.globals.cacheStack=o.filter(function(e){return i.indexOf(e[0])<0})},e.prototype._getCache=function(e){var t=this.globals,n=t.cacheMap,r=t.cacheStack,o=e.name,a=e.http,u=void 0,c=!1,s=null,l=void 0;if(o in n){n=n[o],u=JSON.stringify([a.params,a.query,a.data]),c=u in n,l=n[u]||{};var f=l.expire;if(0!==f&&f<+new Date){c=!1,delete n[u];for(var p=0;p<r.length;p++)if(r[p][0]===o&&r[p][1]===u){r.splice(p,1);break}}else s=l.value}return i(e.mock.debug,"EA:(cache) check %s %o, %sexists!",o,{key:u,keys:m.objectKeys(n)},c?"":"not "),{exists:c,value:s}},e.prototype._setCache=function(e,t){var n=this.globals,r=n.cacheSize,o=n.cacheMap,a=n.cacheStack,u=e.name,c=e.http,s=o[u]||{},l=JSON.stringify([c.params,m.omit(c.query,["__ea","__eaData"]),c.data]);i(e.mock.debug,"EA:(cache) set %s %o",u,{key:l,cacheMap:o});var f=1e3*e.cache.expireSeconds;if(f>0&&(f+=+new Date),s[l]={value:t,expire:f},o[u]=s,a.push([u,l]),r>0&&a.length>r){var p=a.shift(),d=p[0],h=p[1];o[d]&&delete o[d][h]}},e.prototype._transform=function(e,t){var n=this,r=e.http;return r.data=this._apply(r.data,e.request,"request"),function(r,o){if(r)return t(r,o);try{o=n._apply(m.deepClone(o),e.response,"response"),n.removeCache(e.removeCache),t(r,o)}catch(r){t(r)}}},e.prototype._emulate=function(e){var t=e.mock,n=e.http,r=e.name,o=m.buildQuery(n.query);n.url=m.appendQuery(n.path,o),e.cache.enable&&!this._needReloadRouteNameMap[r]||(n.url=m.appendQuery(n.url,this.globals.cacheQueryKey+"="+(new Date).getTime()),delete this._needReloadRouteNameMap[r]),t.server&&!/^https?:\/\//.test(n.url)&&(n.crossOrigin=!0,n.url=m.urlNormalize(("self"===t.server?"":t.server)+n.url)),e.emulateHTTP&&!n.crossOrigin&&/^(PUT|PATCH|DELETE)$/.test(n.method)&&(n.headers["X-HTTP-Method-Override"]=n.method,n.method="POST"),e.emulateJSON&&(n.headers["Content-Type"]="application/x-www-form-urlencoded",n.data=m.buildQuery(n.data))},e.prototype._generateApi=function(e){var t=this;return function(n,r,o){var a=void 0;try{a=(0,h.formatRealtimeRoute)(e,n,r)}catch(e){return o(e)}var u=a,c=u.mock,s=u.http,l=u.dataTransformMethod;if(o=t._transform(a,o),a.cache.enable&&!1===(o=t._cache(a,o)))return!1;s.body=s.data=(0,h.decodeUserData)(s.data);var f=t._generateApiTransformData(a);if(!c.disabled&&!c.memory)if(f=JSON.stringify(f),s.query.__ea=a.name,c.server&&"self"!==c.server||"cookie"!==l||m.isServer)s.query.__eaData=f;else{var p=new Date;p.setTime(p.getTime()+5e3);var d="__ea"+a.name+"="+encodeURIComponent(f)+"; expires="+p.toUTCString()+"; path=/";i(c.debug,"EA:(request) write cookie %o",d),document.cookie=d}t._emulate(a),t._response(a,f,o)}},e.prototype._response=function(e,t,n){var r=this,o=e.mock,a=e.http;i(o.debug,"EA:(response) route: %o, transformData %o",e,t);var u=function(){v(r.mocks,e.name,t,function(t,r){e.handle({http:a,error:t,data:r},n)})};o.memory?0===o.delay?u():setTimeout(u,o.delay):e.handle({http:a},n)},e.prototype._generateApiTransformData=function(e){var t=y.__ea?JSON.parse(y.__ea):{},n=this.globals.eaQueryPrefix,r=e.http,o="";return m.isServer||(o=location.search.slice(1)),o.split("&").reduce(function(e,t){var r=t.split("=").map(decodeURIComponent),o=r[0],i=r[1];return o!==n&&0===o.indexOf(n)&&(e[o.substr(n.length)]=i),e},t),y.__ea=JSON.stringify(t),{mock:e.mock,params:r.params,query:r.query,data:r.data,ea:t}},e.prototype.request=function(e,t,n,r){var o=this;"function"==typeof t?r=t:"function"==typeof n&&(r=n),t=m.objectify(t),n=m.objectify(n),"function"!=typeof r&&(r=m.emptyFunction);var i=function(r){return"string"==typeof e?o._singleRequest(e,t,n,r):m.isArray(e)?o._batchSeriesRequest(e,t,n,r):m.isObject(e)?o._batchParallelRequest(e,t,n,r):void r(new SyntaxError("Illegal arguments."))};if("undefined"!=typeof Promise)return new Promise(function(e,t){i(function(n,o){n?t(n):e(o),r(n,o)})});i(r)},e.prototype._singleRequest=function(e,t,n,r){if(this.apis[e])return this.apis[e](t,n,r);r(new Error("Request key '"+e+"' not exists."))},e.prototype._batchSeriesRequest=function(e,t,n,r){var o=this,i=0,a=null,u=null,c=t.iterator||m.emptyFunction,s=void 0;!function t(){var l=e[i++];if(l){if(!1===(s=c(l,i-1,a,u)))return r(a,u);o.request(l,s,n[l],function(e,n){a=e,u=n,t()})}else r(a,u)}()},e.prototype._batchParallelRequest=function(e,t,n,r){var o=this,i=Object.keys(e),a=i.length,u=new Error("MAP_ERROR"),c={},s=!1,l=t.iterator||m.emptyFunction;i.forEach(function(i){var f=e[i],p=t.alias&&t.alias[i]||i;o.request(p,f,n[p],function(e,t){a--,l(f,i,e,t),e?(s=!0,u[i]=e,e.message&&(u.message=e.message)):c[i]=t,a||r(s?u:null,c)})})},e}()},function(e,t){"use strict";function n(e,t){return e.match(c).reduce(t,"")}function r(e,t,n){var i=e;if(u(e)){i={};for(var c in e)e.hasOwnProperty(c)&&(i[o(c,n,t,e)]=1===t?e[c]:r(e[c],t>1?t-1:t,n))}else if(a(e)){i=[];for(var s=0;s<e.length;s++)i.push(r(e[s],t,n))}return i}function o(e,t,n,r){if("string"==typeof t&&t in s)return s[t](e);if("function"==typeof t){var o=t(e,n,r);if(!o)return e;if("string"==typeof o)return o;throw new Error("Transform naming function should return a valid string value!")}throw new Error("Not supported transform naming type, only support `string` and `function`")}function i(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function a(e){return"array"===i(e)}function u(e){return"object"===i(e)}t.__esModule=!0,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.deep,i=void 0===n?0:n,a=t.naming,u=void 0===a?"camel":a;return"string"==typeof e?o(e,u,i,null):r(e,i,u)};var c=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),s={camel:function(e){return n(e,function(e,t,n){var r=n?"toUpperCase":"toLowerCase";return e+t.charAt(0)[r]()+t.slice(1)})},cap:function(e){return n(e,function(e,t,n){return e+t.charAt(0).toUpperCase()+t.slice(1)})},kebab:function(e){return n(e,function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})},snake:function(e){return n(e,function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})}},l=s.camel,f=s.cap,p=s.kebab,d=s.snake;t.camel=l,t.cap=f,t.kebab=p,t.snake=d},function(e,t){"use strict";t.__esModule=!0,t.default={debug:!1,base:"",path:"",emulateJSON:!1,emulateHTTP:!1,cache:"smart",mock:{memory:!0,server:null,proxy:null,delay:{min:200,max:1e3}},dataTransformMethod:"query",globals:{eaQueryPrefix:"__",cacheQueryKey:"_t",cacheSize:100,cacheMap:{},cacheStack:[]},http:{method:"GET",crossOrigin:!1,credentials:"same-origin",dataType:"json",data:null,headers:{}},request:{naming:null},response:{naming:{case:"camel",deep:0}},handle:function(e,t){if(this.mock.memory)return t(e.error,e.data);var n=window.jQuery&&window.jQuery.ajax;if(n)return n(e.http).success(function(e){return t(null,e)}).error(function(e){return t(e)});throw new Error("Need implement handler function in options")},mocks:{},resources:{},routes:{}}},function(e,t,n){"use strict";function r(e){e.$objectify=function(t,n){return o(e,n,t,!0)},e.$objectifyAll=function(t,n){return Promise.all([].concat(n).map(function(n){return e.$objectify(t,n)}))},e.$fetch=function(t,n,r){return r&&r.body&&(r.data=r.body,delete r.body),o(e,n,(0,i.extend)({},t,r))},e.$fetchAll=function(t,n){var r=(0,i.objectKeys)(n);return Promise.all(r.map(function(r){return e.$fetch(t,r,n[r])})).then(function(e){return Promise.resolve(r.reduce(function(t,n,r){return t[n]=e[r],t},{}))})}}function o(e,t,n,r){return new Promise(function(o,i){if("function"!=typeof e[t])return o(e[t]);e[t](n,function(n,a){n?i(n):(r&&(e[t]=a),o(a))})})}t.__esModule=!0,t.mixin=r;var i=n(1)},function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e){return _.isObject(e)?e:"string"!=typeof e?{}:e.split("&").reduce(function(e,t){var n=t.split("=").map(decodeURIComponent),r=n[0],o=n[1],i={},a=void 0;return o&&":"===o[0]&&o[1]?a=o.slice(1):o&&(i.value=o),(""===o||a)&&(i.required=!0),a&&(i.alias=r,r=a),e[r]=i,e},{})}function i(e){var t=e.http;for(var n in t)n in e&&(t[n]=e[n]);return t.path=_.urlNormalize(e.base+e.path),t.method=t.method.toUpperCase(),e.http}function a(e){var t=e.mock;return _.isObject(t)||(t=e.mock={disabled:!t}),"debug"in t||(t.debug=e.debug),t.disabled&&delete t.memory,(t.disabled||t.memory)&&(delete t.server,delete t.proxy),e.mock}function u(e){var t=e.cache,n=void 0,r=0;return _.isObject(t)?(n=t.enable,r=t.expireSeconds||0):n=t,n="smart"===n&&E.indexOf(e.http.method)>=0||!0===n,r<0&&(n=!1),e.cache={enable:n,expireSeconds:r},e.cache}function c(e){return e.query=o(e.query),e.data=o(e.data),e}function s(e,t,n){return t.name||(t.name=e),t.query=o(t.query),t.data=o(t.data),t=_.extend(!0,{},n,t),i(t),a(t),u(t),t}function l(e){var t=[];return e.replace(/\/:([-\w]+)/g,function(e,n){t.push(n)}),t}function f(e,t){return e.replace(/\/:([-\w]+)/g,function(e,n){return"/"+t[n]})}function p(e){return _.isObject(e)&&(e=_.extend({min:200,max:3e3},e),e=Math.floor(Math.random()*(e.max-e.min)+e.min)),e=parseInt(e,10),e&&e>0?e:0}function d(e,t){e=_.extend(!0,{},e);var n=_.objectKeys(e),r=t.http,o=["params","query","data"],i=O.indexOf(r.method)>=0;if(n.every(function(e){return o.indexOf(e)>=0}))return"data"in e&&(e.data=m(e.data)),o.forEach(function(t){return e[t]=_.objectify(e[t])}),i&&(e.data={}),h(e,t);var a=_.objectKeys(t.query),u=l(r.path),c={},s={},f={},p=t.query,d=t.data;return n.forEach(function(t){u.indexOf(t)>=0?c[t]=e[t]:a.indexOf(t)>=0?s[p[t]&&p[t].alias||t]=e[t]:i||(f[d[t]&&d[t].alias||t]=e[t])}),h({params:c,query:s,data:f},t)}function h(e,t){var n=t.http.path,r=l(n),o=t.name;return r.forEach(function(t){if(!(t in e.params))throw new SyntaxError("Route "+o+" missing params parameter: "+t+".")}),["query","data"].forEach(function(n){var r=e[n],i=t[n];_.each(i,function(e,t){var i=e.alias||t,a=r[i],u=i in r;if(e.required&&!u)throw new SyntaxError("Route "+o+" missing "+n+" parameter: "+t+".");if(e.validate&&u&&("function"==typeof e.validate&&!e.validate(a)||e.validate instanceof RegExp&&!e.validate.test(a)))throw new SyntaxError("Route "+o+" "+n+" parameter '"+i+"' validate error.");"value"in e&&!u&&(r[i]=e.value)})}),e}function m(e){var t;return _.isObject(e)?e:(t={},t[j]=e,t)}function v(e){return j in e?e[j]:e}function y(e,t,n){e=_.extend(!0,{},e),n=_.extend(!0,{},n);var r=e.http,o=n.http||{};o.path&&(o.path=_.urlNormalize(e.base+o.path)),o.method&&(o.method=o.method.toUpperCase()),_.extend(!0,r,o),"mock"in n&&(e.mock=a(n)),"cache"in n&&(e.cache=u(n)),"debug"in n&&(e.mock.debug=n.debug);var i=d(t,e),c=i.params,s=i.query,l=i.data;return _.each(s,function(e,t,n){return n[t]=String(e)}),r.path=f(r.path,c),r.params=c,r.query=s,r.data=l,e.mock.delay=e.mock.memory?p(e.mock.delay):0,e}function b(e,t){return _.objectKeys(e).reduce(function(n,o){var i=e[o],a=void 0===i?"undefined":r(i),u=void 0,c=void 0,s=void 0,l=void 0,f=void 0;"string"===a?c=i:"function"===a?u=i:i&&(u=i.type,c=i.alias,s=i.defaultValue,l=i.read,f=i.write);var p=w.indexOf(u);if(p>=0)void 0===s&&(s=x[p]);else{if(u)throw new Error("Not supported resource type for "+t+"."+o);u=null}return n[o]={type:u,alias:c,defaultValue:s,read:l,write:f},n},{})}function g(e,t){var n={};return _.each(e,function(e,t){var r=e.type,o=e.alias,i=e.defaultValue,a=e.read,u=e.write;if(o){var c=[o,t];t=c[0],o=c[1]}var s=[u,a];a=s[0],u=s[1],n[t]={type:r,alias:o,defaultValue:i,read:a,write:u}}),n}t.__esModule=!0,t.formatRootOptions=c,t.formatInitialRoute=s,t.encodeUserData=m,t.decodeUserData=v,t.formatRealtimeRoute=y,t.formatResource=b,t.reverseResource=g;var _=n(1),w=[Number,String,Boolean],x=[0,"",!1],E=["GET","HEAD"],O=["GET","HEAD"],j="__raw_data_v1"},function(e,t){e.exports=function(e,t,n,r){var o;t in e||"$default"in e?(o=t in e?e[t]:e.$default,n.mock.name=t,"function"==typeof o?o.call(e,n,r):r(null,o)):r({message:"Not found mock target for `"+t+"`.",name:"ConfigError",by:"ElegantApi"})}}])})},263:function(e,t){}},[243]);
//# sourceMappingURL=index.js.map